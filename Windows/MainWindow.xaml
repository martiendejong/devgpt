<Window x:Class="DevGPT.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DevGPT"
        mc:Ignorable="d"
        Title="MainWindow" Height="600" Width="1300">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter" />
    </Window.Resources>
    <DockPanel>
        <!-- Button bar -->
        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="10" Background="#FAFAFA">
            <!-- Load Stores -->
            <Button Name="LoadStoresButton" Width="150" Margin="0,0,10,0" Click="LoadStoresButton_Click" Padding="4">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8E5;" FontSize="16" Margin="0,0,4,0" />
                    <TextBlock Text="Open stores.json" />
                </StackPanel>
            </Button>
            <!-- Load Agents -->
            <Button Name="LoadAgentsButton" Width="150" Margin="0,0,10,0" Click="LoadAgentsButton_Click" Padding="4">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8E5;" FontSize="16" Margin="0,0,4,0" />
                    <TextBlock Text="Open agents.json" />
                </StackPanel>
            </Button>
            <!-- Save Stores -->
            <Button Name="SaveStoresButton" Width="150" Margin="0,0,10,0" Click="SaveStoresButton_Click" Padding="4">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE74E;" FontSize="16" Margin="0,0,4,0" />
                    <TextBlock Text="Save stores.json" />
                </StackPanel>
            </Button>
            <!-- Save Agents -->
            <Button Name="SaveAgentsButton" Width="150" Click="SaveAgentsButton_Click" Padding="4">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE74E;" FontSize="16" Margin="0,0,4,0" />
                    <TextBlock Text="Save agents.json" />
                </StackPanel>
            </Button>
            <!-- Settings knop -->
            <Button Name="SettingsButton" Width="160" Margin="60,0,0,0" Click="SettingsButton_Click" Padding="4">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE713;" FontSize="16" Margin="0,0,4,0" />
                    <TextBlock Text="Instellingen (OpenAI)" />
                </StackPanel>
            </Button>
            <!-- New chat window -->
            <Button Name="NewChatWindowButton"
                    Width="210"
                    Margin="30,0,0,0"
                    Click="NewChatWindowButton_Click"
                    Padding="4"
                    Visibility="{Binding IsChatVisible, Converter={StaticResource BoolToVisibilityConverter}}">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE710;" FontSize="16" Margin="0,0,4,0" />
                    <TextBlock Text="Nieuw chatvenster openen" />
                </StackPanel>
            </Button>
        </StackPanel>
        <!-- Tab panel -->
        <TabControl Name="ConfigTabControl" Margin="10,0,10,10">
            <TabItem Header="Stores">
                <!-- *** Main editor Grid for autosizing -->
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <!-- Editor mode selection row -->
                    <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,3">
                        <RadioButton Name="RadioTextEditor" Content="Tekst-editor" IsChecked="True" Checked="RadioEditorMode_Checked" Margin="0,0,15,0"/>
                        <RadioButton Name="RadioFormEditor" Content="Formulier-editor" Checked="RadioEditorMode_Checked"/>
                    </StackPanel>
                    <!-- Both editors in row 1 (mutually exclusive visibility, both fill space) -->
                    <Grid Grid.Row="1">
                        <TextBox Name="StoresJsonEditor"
                            AcceptsReturn="True"
                            AcceptsTab="True"
                            HorizontalScrollBarVisibility="Auto"
                            VerticalScrollBarVisibility="Auto"
                            FontFamily="Consolas"
                            FontSize="14"
                            Margin="0"
                            TextWrapping="Wrap"
                            Visibility="Visible"
                            VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                            />
                        <ContentControl x:Name="StoresEditorContent"
                                        VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                        />
                    </Grid>
                    <!-- Validate button row -->
                    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,5,0,0">
                        <Button Name="ValidateStoresJsonButton" Content="Validate" Click="ValidateStoresJsonButton_Click" Margin="0,0,10,0"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            <TabItem Header="Agents">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <TextBox Name="AgentsJsonEditor"
                             AcceptsReturn="True"
                             AcceptsTab="True"
                             HorizontalScrollBarVisibility="Auto"
                             VerticalScrollBarVisibility="Auto"
                             FontFamily="Consolas"
                             FontSize="14"
                             Margin="0"
                             TextWrapping="Wrap"
                             VerticalAlignment="Stretch"
                             HorizontalAlignment="Stretch"
                             />
                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,5,0,0">
                        <Button Name="ValidateAgentsJsonButton" Content="Validate" Click="ValidateAgentsJsonButton_Click" Margin="0,0,10,0"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            <TabItem Header="Chat" x:Name="ChatTab" Visibility="{Binding IsChatVisible, Converter={StaticResource BoolToVisibilityConverter}}">
                <Grid>
                    <TextBlock Text="Chat window: This becomes visible after both JSON files are loaded."
                               HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold"/>
                </Grid>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>
